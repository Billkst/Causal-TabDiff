# 肺癌高危人群识别：因果扩散模型基线数据集说明文档

## 1. 背景信息

- **医学背景**：本数据集源自全美肺癌筛查试验（NLST），该试验旨在评估低剂量螺旋 CT（LDCT）对比胸部 X 光在降低高危人群肺癌死亡率方面的有效性。
    
- **核心研究目标**：服务于“基于因果表征学习的肺癌预防控制辅助决策研究”。通过因果扩散模型捕捉环境暴露（吸烟）与肺部结节生长的非线性动态机制，克服随访不连续性，实现反事实条件下的肺癌发病风险轨迹推演。
    

## 2. 文件拓扑与因果角色映射

本数据集由 5 个相互映射的子域构成，通过参与者唯一标识符（`pid`）和研究年度（`study_yr`）建立时序拓扑关联：

1. **`nlst_780_prsn` (基线特征域 / 前门混杂因子)**：记录患者随机化入组时的静态人口学与暴露特征，是所有因果图的根节点。
    
2. **`nlst_780_screen` (干预与观测域 / 环境参数)**：记录每次 CT 筛查的设备技术参数，用于控制观测过程引入的测量误差（Measurement Bias）。
    
3. **`nlst_780_ctab` (横截面中介域 / 节点静态特征)**：记录单次 CT 影像上的异常结节表现，属于**中间变量 (Mediators)**。
    
4. **`nlst_780_ctabc` (纵向演变中介域 / 动态轨迹)**：基于历史比对的结节生长特征，是捕捉潜在高危状态演变的关键时序通道。
    
5. **`nlst_780_canc` (临床终点域 / 结果变量)**：最终的确诊与病理分期信息，对应 SCM 中的结果节点 $Y$。
    

## 3. 核心数据字典与医学释义

### 3.1 既往与人口学表 (`prsn_idc`)

- `pid`: 参与者唯一标识符。
    
- `age`: 随机化时的年龄（连续变量），强混杂因子。
    
- `gender`: 性别（1=男，2=女）。
    
- `cigsmok`: 吸烟状态。**[注意]** 需结合包年数（Pack-years）联合评估暴露强度。
    
- `loclhil` ... `locoth`: 肿瘤具体位置标记（若已发生）。
    

### 3.2 筛查记录表 (`screen_idc`)

- `study_yr`: 筛查年度（0=T0基线, 1=T1, 2=T2）。定义了马尔可夫决策过程的时间步 $t$。
    
- `ctdxqual`: 诊断 CT 的影像质量。
    
- `techpara_kvp` / `techpara_ma`: CT 管电压/管电流，可能对结节密度的测定（如磨玻璃影）产生碰撞偏倚。
    

### 3.3 CT异常横截面表 (`ctab_idc`)

- `sct_ab_num`: 异常病灶唯一编号。
    
- `sct_long_dia`: 结节最长径（mm）。**[核心碰撞节点预警]** 结节大小是吸烟和基因共同作用的中间结果，不可在未控制后门路径的情况下直接用于回归分析。
    
- `sct_margins`: 结节边缘特征（1=毛刺状 Spiculated，2=光滑 Smooth，等）。恶性肿瘤的高危征象。
    

### 3.4 CT异常比对表 (`ctabc_idc`)

- `sct_ab_attn`: 密度是否发生可疑变化。
    
- `sct_ab_gwth`: 结节体积/直径是否发生实质性生长（1=否，2=是）。此时序差分特征是扩散模型引导轨迹生成的“动量”。
    

### 3.5 癌症结局表 (`canc_idc`)

- `candx_days`: 从随机化到确诊肺癌的天数，用于生存分析（Survival Analysis）和删失（Censoring）处理。
    
- `clinical_stag` / `path_stag`: 临床/病理分期。
    

## 4. 衍生特征建议 (基于文献支撑的特征工程)

针对因果扩散模型的高危识别，建议在 L2 阶段基于现有字段构建以下高阶因果特征：

1. **结节生长速率先验 (Nodule Growth Velocity, $\Delta V$)**
    
    - **构建方法**：利用 `ctabc` 中的比对结果与 `ctab` 中各 `study_yr` 的 `sct_long_dia` 计算年化增长率。
        
    - **文献支撑**：_McWilliams et al., 2013; Probability of cancer in pulmonary nodules detected on first screening CT, NEJM_. 该文献构建的 Brock 模型指出，结节的动态生长速率比单纯的横截面绝对大小具有更真实的因果预测效力。
        
2. **复合影像学危险评分 (Composite Malignancy Score)**
    
    - **构建方法**：将结节大小（`sct_long_dia`）、边缘特征（`sct_margins`，毛刺权重增加）进行非线性组合，作为扩散模型中的条件指导信号（Guidance Signal）。
        
    - **文献支撑**：_National Lung Screening Trial Research Team, 2011, NEJM_. 强调了特定的形态学特征组合与恶性转化的强关联。
        
3. **随访时间间隔隐性惩罚 (Time-Gap Penalization)** `[待确证/探索]`
    
    - **构建方法**：提取两次实际筛查之间的物理天数差（需通过日期转化）。如果患者错过了某次标准随访，该缺失本身 (Missingness) 可能是一个非随机事件（MNAR），需作为额外的状态向量输入扩散模型。
        

---

